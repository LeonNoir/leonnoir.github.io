<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="/assets/css/custom.css">
	<link rel="stylesheet" href="/assets/css/atom-one-light.css">
    
        <title>Шпаргалка по настройке сети в linux</title>
		<link rel="stylesheet" type="text/css" href="/assets/css/002.css">
    
	<link rel="stylesheet" href="/assets/css/font-awesome.min.css">
	<link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
	<script src="/assets/js/highlight.pack.js"></script>
	<script src="/assets/js/clock.js"></script>
	<script src="/assets/js/typed.umd.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-0GZX3H860K"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-0GZX3H860K');
	</script>
	<!-- Google tag (gtag.js) -->
	
</head>
<body>
	<div class="wrapper">
		<div class="default_title">
			<img src="/assets/img/mycomputer.png" />
			
				<h1>1042.ru</h1>
			
		</div>
		<style>

</style>

<script>
  document.body.style.backgroundColor = localStorage.color;
  //alert(localStorage.color);
  //console.log(localStorage.color);
  //console.log(colorValue);
  //localStorage.clear();
</script>

<script>
function changeColor(colorValue) {
    document.body.style.background = document.getElementById(colorValue).dataset.color;
	localStorage.setItem('color', document.body.style.background);
}
</script>

<ul class="topbar">
	<a href="/"><li><u>Ф</u>айл</li></a>
	
	<div class="dropdown">
	<a><li><u>И</u>збранное</li></a>
		<div class="dropdown-content">
		<a class="fav-links" href="http://amiai.ru" target="_blank"><div>Нейродруг Ами</div></a>
		<a class="fav-links" href="http://ji1.ru" target="_blank"><div>Сервис коротких ссылок</div></a>
		<a class="fav-links" href="http://freecraft.ru" target="_blank"><div>Майнкрафт Сервер</div></a>
		<a class="fav-links" href="http://tvnw.ru" target="_blank"><div>Оцифровка VHS спб</div></a>
		</div>
	</div>
	
	<div class="dropdown">
	<a><li><u>В</u>ид</li></a>
		<div class="dropdown-content">
		<div id="defy" data-color="#008082" onclick="changeColor('defy')">Стандарт</div>
		<div id="dark" data-color="#2b2a33" onclick="changeColor('dark')">Темная</div>			
		<div id="light" data-color="#b3e5fc" onclick="changeColor('light')">Светлая</div>
		
		</div>
	</div>
	
	<a href="/about"><li><u>С</u>правка</li></a>
</ul>
		<div class="tag_list">
			<ul id="tag-list">
				<li><a href="/" ><img src="/assets/img/disk.png" />(C:)</a>
			<ul>
				
				
				<li><a href="/tag/documents/" title="documents"><img src="/assets/img/folder.ico" />documents</a></li>
				
				<li><a href="/tag/mems/" title="mems"><img src="/assets/img/folder.ico" />mems</a></li>
				
				<li><a href="/tag/programms/" title="programms"><img src="/assets/img/folder.ico" />programms</a></li>
				
			</ul>
				</li>
			</ul>
		</div>
		<div class="post_list">
			
				

							<ul>
								<li><a href="javascript:history.back()" title="Назад"><img src="/assets/img/back.png" title="ReadMe">Назад</a></li>
							</ul>

				
			
		</div>
		<div class="post_total">
			
				<div class="left">/pages/linuxcfg-network/</div>
			
			
			
			
			<div class="right">&nbsp;</div>
			
			
			
		</div>
	</div>
	
        <div class="content">
			<div class="post_title">
			
				
				<img src="/assets/img/file.png" />
				
				
				<h1>Шпаргалка по настройке сети в linux</h1>
				<a href="/"><div class="btn"><span class="fa fa-times"></span></div></a>
				<div class="btn btn_max"><span class="fa fa-window-maximize"></span></div>
				<div class="btn"><span class="fa fa-window-minimize"></span></div>
			</div>
			<ul class="topbar">
				<li></li>
			</ul>
			<div class="post_content">
        		<p>независимо от того какой линукс, всегда имеет смысл перед настройкой сети проверить какие у нас есть сетевые адаптеры, смотрим какие есть сетевые интерфейсы с помощю <strong>ip a</strong> или <strong>ifconfig</strong></p>

<h2 id="настройка-сети-в-ubuntu-20046-lts">настройка сети в Ubuntu 20.04.6 LTS</h2>

<p>конфиг тут:</p>

<pre><code class="language-no-line-numbers">/etc/netplan/50-cloud-init.yaml
</code></pre>

<p>смотрим какие есть сетевые интерфейсы</p>

<p>команда:</p>

<pre><code class="language-no-line-numbers">ip a
</code></pre>
<p>вывод:</p>

<pre><code class="language-no-line-numbers">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:15:5d:d0:01:00 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.55/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 81438sec preferred_lft 81438sec
    inet6 fe80::215:5dff:fed0:100/64 scope link
       valid_lft forever preferred_lft forever
</code></pre>

<p>видим, что есть некий <strong>eth0</strong> его и вписываем в <strong>/etc/netplan/50-cloud-init.yaml</strong> к примеру так выглядит настройка <strong>eth0</strong> с включенным DHCP и <strong>ens224</strong> с статичным ip. Параметр <strong>optional: true</strong> позволяет избежать долгой загрузки ОС в некоторых случаях</p>

<pre><code class="language-no-line-numbers">network:
    ethernets:
#        enp0s3:
        eth0:
            dhcp4: true
            optional: true
           # addresses: [192.168.1.55/24, ]
        ens224:
            addresses: [192.168.1.77/24, ]
    version: 2

</code></pre>

<h2 id="настройка-сети-в-centos-8">настройка сети в Centos 8</h2>

<p>конфиг тут:</p>

<pre><code class="language-no-line-numbers">nano /etc/sysconfig/network-scripts/ifcfg-ens32
</code></pre>

<p>содержание</p>

<pre><code class="language-no-line-numbers">TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=none
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=no
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens32
UUID=3d0227d7-615f-4a25-ba56-db66822f0e0f
DEVICE=ens32
ONBOOT=yes
IPADDR=192.168.1.55
PREFIX=24

</code></pre>

<h2 id="поднятьопустить-интерфейс">поднять\опустить интерфейс</h2>

<p>используя “ip”</p>

<pre><code class="language-no-line-numbers"># ip link set dev eth0 up
# ip link set dev eth0 down
</code></pre>

<p>используя “ifconfig”</p>

<pre><code class="language-no-line-numbers"># /sbin/ifconfig eth0 up
# /sbin/ifconfig eth0 down
</code></pre>

				
					<br>
<hr>
<br>
<ul class="donate">
	<p> .... </p>
</ul>
				
			</div>
		</div>
    
	<script src="/assets/js/001.js"></script>
	<script src="/assets/js/002.js"></script>
	<div class="footer">
	
			<div class="console wrapper">
		<div class="console_title post_title" id="oops1">
		<img src="/assets/img/icos/cmd.png">
		<h1 id="oops0">C:\WINDOWS\system42\cmd.exe</h1> <h1 id="oops2"></h1>
		<a href="#" onclick="oopsF()"><div class="btn"><span class="fa fa-times"></span></div></a>
		</div>
	
		<div class="console_body">

		<span>C:\WINDOWS\system42>run CoolStory.exe</span><br>
		<span>...</span><br>
		<span>.....</span><br>
		<span>.......100%</span><br>
		<span>Done! Starting CoolStory...</span><br>
		<span>something goes wrong </span><br>
		<span>0xc185</span><br>
		<span>  </span><br>
		<span>  </span><br>
		

		<span id="runline">			
		
		<span>Слушай, давай я тебе спою чего-нибудь?</span><span>Ну вот, а песня такая, про цирк.</span><span>Называется «Зеленый слоник».</span><span>И там… Ну… Я сейчас быстро спою</span><span>ну просто когда тебя увели, я эту песню сочинил.</span><span>Там, значит, аккорды первые такие</span><span>Там! Та-тарам-тара-там! Та-тара-тара-там-трататара-тара-там, та-та!</span><span>Я на лошади. Ты на белом коне, и я на белом коне.</span><span>А потом на бал. А потом салют… в нашу честь.</span><span>Салют в нашу честь. Сначала на парад, а потом в дом офицеров пойдём.</span><span>Бал будет. Пиво. Салют. В мою честь салют.</span><span>Я полковник и ты — на белом коне.</span><span>Ты меня слышишь? Посмотри, какая у меня форма!</span><span>Посмотри, какие у неё звезды!</span><span>Я её ещё никому не показывал. Только тебе покажу. Посмотри!</span><span>Это моя парадная. Специально сшил! Посмотри, не бойся!</span><span>Погоны? Я их поменяю! Вот они, погоны. Вот! Настоящие! Видишь?</span><span>Полковник. Я полковник. Я их на парад надену.</span><span>Это моя форма. Самая чистая. Что ты кашляешь?</span><span>Вот пойдём в дом офицеров, пива выпьем — и кашлять не будешь.</span><span>Я с кортиком, на белом коне, командую парадом! Я полковник!</span><span>Я командую парадом! Я в звёздах!</span><span>На белом коне! Я полковник! Я командую парадом!</span>		
		</span>
			<span class="key">C:\></span>
			<span class="value"><span id="typed">.|\.</span></span>

		</div>
		
	
	</div>
	
	<script>
		function oopsF() {
		document.getElementById("oops0").remove();
		document.getElementById('oops1').style.cssText = 'background-color: gray; color: white;';
		document.getElementById('oops2').innerHTML = 'не отвечает...';
}
	</script>
	
	<script>
		var typed = new Typed("#typed", {
		  stringsElement: "#runline",
		  backSpeed: 10,
		  typeSpeed: 30,
		  backDelay: 1000,
		  loop: true,
		  smartBackspace: true,
		});
	</script>
			<script>
			function initOnLoad(fn) {
			  var readyState = document.readyState
			  if(readyState === 'interactive' || readyState === 'complete') {
				return fn()
			  }
			  window.addEventListener('DOMContentLoaded', fn)
			  }
			initOnLoad(function() {
			  clockTimer();
			})
	</script>
	
	<div class="clockpage">
	<div class="clock_title">
	<img src="/assets/img/64-64-clock.png">
	<h4>Время</h4>
	</div>
	<span id="clock"></span><span id="dayOfWeek"></span>
	</div>
		
	</div>
</body>
</html>
